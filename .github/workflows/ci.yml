name: CI

on:
push:
branches: ["**"]
pull_request:

jobs:
build-test:
runs-on: ubuntu-latest
steps:
- name: Checkout
uses: actions/checkout@v4
  - name: Setup Python
    uses: actions/setup-python@v5
    with:
      python-version: "3.11"

  - name: Install
    run: |
      python -m pip install --upgrade pip
      pip install -e . ruff pytest

  - name: Lint
    run: ruff check src tests

  - name: Tests
    run: pytest -q
